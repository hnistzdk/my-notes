---
title: 一些面经里的面试题
date: 2022-04-10 15:23:09
permalink: /work/interview/question
categories:
  - 面试刷题
  - 面试
tags:
  - 
---

# 美团

## 八股

### Java基础

1. #### 红黑树了解吗，它的三大特性？

2. #### 抽象类和接口的区别

   相同点：

   > - 都不能被实例化
   > - 都能包含抽象方法
   > - 用于描述系统提供的服务，不必提供具体实现

   | 对比项目   | 抽象类                                                       | 接口                                                         |
   | ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | 方法       | 加abstract的为抽象方法，方法可以用public、protected、default这些访问控制符修饰。子类继承此抽象类时，需重写这些抽象方法 | 接口的所有未加static或default修饰的方法(jdk8+)都是public abstract方法(可定义时可以不写public abstract，但不能用其他关键字修饰)，实现接口时，必须实现所有的这些方法 |
   | 属性       | 和普通类的属性一样                                           | 接口中的变量都是static final(定义时可省略)修饰的静态变量     |
   | 构造方法   | 有构造方法                                                   | 没有构造方法                                                 |
   | 继承/实现  | 抽象类无法不能被实例化，只能被继承。和普通类的继承机制一样   | 接口与接口之间不能implements，可以继承                       |
   | 速度       | 比接口速度快                                                 | 因为接口需要时间去找实现类                                   |
   | 添加新方法 | 抽象类中添加，如果提供了默认实现，不需要修改现在的代码       | 接口中添加`非static/default`修饰的方法(jdk8+)，需要修改代码(实现方法) |
   | 设计层面   | `抽象类是对一种事物的抽象，即对类抽象，包括属性、行为`       | 接口是只对行为的抽象                                         |
   | 使用原则   | 模板式设计模式-->在使用时可以将部分逻辑以具体方法和具体构造函数形式实现，然后声明一些抽象方法来迫使子类实现剩余的逻辑，这个抽象类父类就相当于一个模板，具有这些类的相同的一些功能，并给子类提供了扩展方法，如果子类需要实现不同的功能，实现父类的抽象方法即可 | 定义一种规范、标准                                           |

   

3. #### Java面向对象的特点。多态是啥？

   > 1. 特点：封装、继承、多态
   > 2. 多态：
   >    - `实现关系下的多态，接口的引用类型变量指向了接口实现类的对象`
   >    - `继承关系下的多态，父类的引用类型变量指向了子类的对象`
   >    - 多态情况下，子父类存在同名的成员变量时，访问的是父类的成员变量
   >    - 多态情况下，子父类存在同名的非静态的成员函数时，访问的是子类的成员函数
   >    - 多态情况下，子父类存在同名的静态的成员函数时，访问的是父类的成员函数
   >    - 多态情况下，父类不能访问子类特有的成员

4. #### 重载和重写的区别

   > 重载：`方法名相同，参数肯定不同，返回值可以相同也可以不同`
   >
   > 重写：方法体不同，其他完全相同

5. #### java中常见的集合有哪些，分别介绍一下？

   > List：ArrayList、LinkedList、Vector、CopyOnWriteList
   >
   > Map：HashMap、LinkedHashMap、TreeMap
   >
   > Set：HashSet、LinkedHashSet、TreeSet

6. #### ArrayList与LinkedList区别

   > - ArrayList底层基于数组，LinkedList基于双向链表

7. #### ArrayList扩容机制

   > jdk7new实例时初始化数组大小为10，jdk8在add时才初始化数组长度为10，如果add后个数大于数组长度，扩容为原来的1.5倍，然后copy元素过去

8. #### HashMap和CurrentHashMap底层原理？AVL和[红黑树](https://www.nowcoder.com/jump/super-jump/word?word=红黑树)的区别？

9. #### ConcurrentHashMap的底层数据结构?

   > jdk7：Entry数组+链表：分为多个Segment，每个Segment持有多个Entry(一个Entry数组)，在多线程操作时，只锁当前操作的Segment，其他的Segment不受影响
   >
   > jdk8：Node数组+链表+红黑树：多线程环境下，当hash找到的Node数组下标位置为空时，casTabAt中使用compareAndSwapObject保证插入的线程安全；当产生hash冲突时，使用synchronized锁单个Node结点插入或覆盖值

10. #### String、StringBuilder和StringBuffer

    > 1. String
    >
    > - `类、类中的字段都是final修饰的，字段私有且不提供能修改内部状态的方法`
    > - String底层是一个final修饰char数组常量，意味着初次赋值后不可以再改变(不可变性)
    > - 重新赋值会指定一个新的内存区域赋值，不会使用原有的value数组赋值
    > - String str = "xxx"的方式，实际只创建了一个对象，存在于字符串常量池中
    > - new String("xxx")的时候会产生两个对象，new的对象存在于堆中，"xxx"存在于字符串常量池中
    >
    > 2. StringBuilder
    >
    > - StringBuilder底层是非final修饰的char数组，是可变的，提供很多对字符串增删改的操作方法，效率高，但是线程不安全
    >
    > 3. StringBuffer
    >
    > - StringBuffer和StringBuilder实现相差不大，但StringBuffer操作方法都加了synchronized修饰，是线程安全的

11. #### 为什么StringBuffer线程安全

    > 方法synchronized修饰

12. #### 为什么要有线程安全和线程不安全两种，都设成线程安全不好么

    > 有的应用几乎都在单线程环境下，就只使用StringBuilder，提高效率

13. #### 你觉得为什么java把String设计为不可变的

    > 作者James Gosling说主要是从缓存、安全性、线程安全和性能等角度出发的。
    >
    > 1. 缓存：字符串是使用最广泛的数据结构。大量的字符串的创建是非常耗费资源的，所以，Java提供了对字符串的缓存功能，可以大大地节省堆空间。如果是可变的，String s1 = "abc",s2=s1，这时如果我们改变了s1的值，s2的值也被改变了，这显然不是我们想看到的
    >
    > 2. 安全性：字符串在Java应用程序中广泛用于存储敏感信息，如用户名、密码、连接url、网络连接等。JVM类加载器在加载类的时也广泛地使用它。
    >
    >    因此，保护String类对于提升整个应用程序的安全性至关重要。当我们在程序中传递一个字符串的时候，如果这个字符串的内容是不可变的，那么我们就可以相信这个字符串中的内容。但是，如果是可变的，那么这个字符串内容就可能随时都被修改。那么这个字符串内容就完全可信了。这样整个系统就没有安全性可言了。
    >
    > 3. 线程安全：不可变会自动使字符串成为线程安全的，因为当从多个线程访问它们时，它们不会被更改。
    >
    > 4. hashcode缓存

14. #### 哈希冲突是什么情况（用HashMap来举例）

    > 调hash()方法，两个key得到的hash值是一样的，但是HashMap底层数组的一个位置只能留一个(如果equals也相等)
    >
    > 如果解决hash冲突：
    >
    > 1. 开放地址法：
    >    - 线性探测：找当前冲突位置下标+1的位置是否为空，不为空继续找，直到把数组循环一遍，只要表未填满，总能放下，但缺点是会产生聚集问题，多个hash一样的都聚集在一起，长度越长，后续的相同hash探测的时间会越来越长
    >    - 平方探测：依次向前后查找：1^2,-1^2(向左),2^2,-2^2....，更灵活
    > 2. 再散列法：
    >    - 用另一个不同计算方式的hash函数对这个key重新进行hash，探测的时候用新的hash值去探测，由于hash函数不同，碰撞的概率会很低，避免二次聚集，但需付出计算另一个hash函数的代价
    > 3. 拉链法(链地址法)，参考HashMap

15. #### 位图了解过么？

16. #### Java集合框架中有哪些接口，Map有哪几种 

17. ####  HashMap的初始化、扩容和树化 

    > 1. 初始化：
    >    - jdk7：new的时候，创建默认容量为16的Entry数组，负载因子0.75
    >    - jdk8：new的时候不创建，第一次put的时候调用resize()创建默认长度16的Node数组，负载因子一样
    > 2. 扩容：
    >    - jdk7：存入之前判断是否需要扩容：大于阈值，且发生hash冲突
    >    - jdk8：存入之后判断扩容： 不hash冲突且大于阈值，直接扩容，hash冲突，看链表长度和数组长度，链表小于8，存进去，大于8，如果数组小于64，扩容，大于64，转红黑树

18. ####  HashMap容量为什么是2的幂次 

19. #### HashMap容量、阈值、负载因子之间的关系 

    > 容量是底层数组的长度，阈值是数组是否需要扩容的界限值，阈值=容量*负载因子

20. #### HashMap负载因子为什么是0.75 

    > 泊松分布

21. #### HashMap和Hashtable继承的是哪个类 

22. #### 为什么不使用Hashtable

    > 线程安全，效率低

23. #### 介绍一下ConcurrentHashMap 

24. #### HashMap是有序的吗，TreeMap呢

    > 无序；对于Integer、String等实现了Comparable接口的类，是可以自动排序的(升序)，自定义类需要类实现Comparable接口，或者传入一个Compartor接口的实现类作为构造函数参数来实现排序

25. #### final关键字

    > - final修饰类中的属性或者变量：不可变性->不能对变量进行重新赋值，即赋值后不能更改
    > - final修饰类中的方法：该方法可以被继承，但不能被重写->其实也是符合不可变性
    > - final修饰类：该被修饰的类不可以被其他类继承



















### 设计模式

1. #### 了解设计模式吗，举个Jdk中设计模式的例子（AQS模板模式）

2. #### 装饰器模式了解吗（不会），InputStream原理（不会）

3. #### 谈谈你知道的设计模式、再详细介绍一下你对简单工厂、工厂、抽象工厂的看法

   - 简单/静态工厂模式：简单根据类名等直接返回new的对象

   - 工厂方法模式：

     > 一个动物工厂interface，其包含一个createAnimal方法，可以创建任何宠物；
     >
     > 其他的猫工厂、狗工厂实现这个interface，方法返回具体猫、狗；
     >
     > 当想要狗的时候：
     >
     > // 去找狗工厂拿一只狗过来
     > AnimalFactory factory = new DogFactory();
     > Animal dog = factory .createAnimal();
     >
     > 要猫同理。
     >
     > 即：一个新对象增加，只需要增加一个具体的类和具体的工厂类即可

     ![image-20220411210642983](https://images.zaiolos.top/images/202204112106042.png)

   - 抽象工厂模式

     ![image-20220411210624863](https://images.zaiolos.top/images/202204112106936.png)

4. #### 设计模式的原则了解哪些









### 多线程

1. #### 创建线程有哪些方式

2. #### 创建线程池的方法，线程池的参数，饱和策略拒绝会抛出什么异常？

3. #### 异常有哪些，error和运行时异常的区别？解释一下FileNotFoundException

4. #### 现场设计一个死锁的场景

5. #### 进程 线程 协程区别？进程通信？线程池参数使用？知道 newFixedThreadPool吧？说说特点和它的阻塞队列？它会OOM为什么？

6. #### java中用来线程同步的锁有哪些？

   > - Synchronized
   > - ReentrantLock
   > - ReentrantReadWriteLock

7. #### synchronized 和 Lock 有什么区别？

   > 相同：都可以重入
   >
   > 不同：
   >
   > - synchronized会自动释放锁，Lock需要手动释放
   > - synchronized是关键字，Lock是接口(类)
   > - synchronized不可以判断获取锁的状态，Lock可以判断是否获取到了锁
   > - 当线程2需要的锁被线程1获取时，使用Lock的tryLock()和tryLock(long time,TimeUnit timeUnit)可以尝试获取锁，不会导致线程2一直等待
   > - synchronized可以锁方法或代码块，而Lock只能锁代码块

8. #### volatile了解吗？和synchronized的区别是什么？ReentrantLock和synchronized的区别是啥？

   > volatile是jvm提供的轻量级的同步机制
   >
   > volatile并不是锁，只是让被它修饰的变量在修改时，禁止指令重排，在修改后对其他线程都可见(可见性)，但它并不保证原子性

9. #### 线程池核心参数与工作流程(原理)

10. #### n个线程阻塞，等待某个事件发生后被唤醒，怎么实现

11. #### CyclicBarrier的实现原理，自己做怎么实现

12. #### CyclicBarrier和CountDownLatch的区别

13. #### AQS看过吗？ 抽象的队列式同步器  

14. #### AQS使用了什么设计模式？（是模版方法模式的经典应用）

15. ####  ThreadLocal为什么会内存泄漏？如何避免？ThreadLocal的优化了解过吗？

16. #### 核心线程什么时候创建的？（核心线程默认不创建，当提交任务到线程池中时才创建，有参数可以预热）

17. #### volatile具体的实现？有序性和可见性？

18. #### 为什么volatile不满足原子性？

19. #### 进程间的通信方式  (只回答了四种匿名管道，有名管道，消息队列，信号量)









### JVM

1. #### JVM的双亲委派模型介绍一下

2. #### 类加载的过程？双亲委派机制了解吗？有什么好处？

3. #### jvm内存结构是啥样的？

4. #### JVM内存区域

5. #### 堆分成两代你知道么？为什么要分代,不整合在一起

6. #### G1了解过么（这个我了解的其实不太透彻，就把我知道的说了说，现在想想他似乎是接着上一个问题问的，因为G1就是分成了很多块）

7. #### 一个对象如何会被GC

8. #### 强引用、软引用、弱引用、虚引用的区别和使用场景

9. #### 强引用能被GC吗，强引用设置为null会怎么样（不会）

10. #### JVM内存模型了解过吗，为什么你说本地方法栈执行方法的时候程序计数器是空？

11. #### 你参与过JVM调优吗















### MySQL

1. #### 用过哪些数据库？MySQL和其他的数据库相比有什么优点？（事务支持，ACID，存储引擎，三大日志，索引，锁机制，MVCC）

2. #### MySQL中对SQL语句的优化了解过么？

3. #### MySQL的隔离机制，默认隔离机制，RR的脏读幻读，解决幻读的方法

4. #### MySQL中的锁定读，间隙锁，间隙锁是行锁还是表锁还是页锁？

5. #### 如果数据库中锁定读的并发比较高，有什么办法解决？

6. #### 索引（聚簇索引、非聚簇索引）以及底层数据结构

7. #### 怎样处理高并发场景？（通过锁解决 写+写并发，通过无锁化MVCC解决 读+写 并发）

8. #### 利用索引查询的原理，覆盖索引，联合查询，为什么使用B+🌲结构（其实这些问题本质上就是为了减少磁盘 I/O 的次数，要深刻理解）

9. #### MySQL 有缓存吗，怎么缓存查询的？

10. #### 索引类型，InnoDB使用的索引 为什么不使用别的索引类型？

11. #### 数据库的索引结构？为什么用B+树？什么是最左前缀匹配原则？

12. #### 了解DNS域名解析吗？简单叙述一下过程

13. #### 慢sql该怎么分析？

14. #### 数据库的四大隔离级别是啥？默认隔离级别是哪个？

15. #### mysql中为什么主要使用innodb

16. #### select * from table limit 800000,10; 很慢如何优化

17. #### 索引结构 B+树为什么是3层不是2层5层8层？（答层数高了IO次数会变多？） 最左匹配 写SQL查询表中各科成绩最高分

18. #### binlog 和 redolog 的区别

19. #### 回表查询了解过吗？

20. #### 有没有听过索引下推

21. #### 一般怎么优化sql调优

22. #### 实际遇到中的问题：业务方传递的参数导致对需要几亿条数据全表查询，猜一下会发生什么？（发生OOM）如何解决？（使用参数校验与设置限制解决）

23. #### Mysql InnoDB引擎的索引结构，联合索引怎么建的

24. #### 提到了MVCC，问了下MVCC的实现







### Redis

1. #### Redis的数据结构，对应的底层数据结构都有什么？项目里用的什么数据结构，key是什么

2. #### 详细介绍一下 string 类型的底层数据结构（简单动态字符串）

3. #### Redis实现分布式锁的方法

4. #### Redis主从一致性的实现

5. #### Redis缓存穿透是啥？有哪些解决办法？

6. #### Redis缓存会出现什么问题，讲一下缓存穿透、缓存雪崩、缓存击穿

7. #### 你理解的Redis会在什么场景下用到



### 网络TCP(HTTP(s))

1. #### get和post请求的区别

2. #### session和cookie的区别

3. #### 什么是http幂等性

4. #### 浏览器中输入：“ [www.meituan.com](https://www.woaijava.com/)”之后都发生了什么

5. #### 三次握手四次挥手

6. #### https 的原理以及建立完整连接的全过程

7. #### CA 证书的内容有什么？

8. #### http、tcp 分别在七层网络中的哪层

9. #### 哪些应用层协议使用 tcp，哪些用 udp

10. #### 为什么 tcp 是三次握手，两次不行吗？

11. #### TCP与UDP的区别？为什么TCP是可靠的？TCP保证可靠传输的机制？

12. #### TCP粘包了解吗？解释一下

13. #### 拥塞处理怎么处理的

14. #### 为什么说 TCP 面向连接而 UDP 不面向连接

15. #### OSI7层网络模型，极其每一层的协议











### Spring

1. #### 如何进行参数校验，什么是水平越权

2. #### 什么是AOP，举个例子，拦截器讲一下

3. #### 读过Spring的源码吗？AOP的原理？

4. #### Spring Bean的生命周期

5. #### 循环依赖问题了解吗？

6. #### Spring常用的注解

7. #### 说一下spring依赖注入的原理

8. #### spring中@Service、@Controller可以用@Component注解替换吗

9. #### spring怎么做到高内聚低耦合？写代码怎么体现高内聚低耦合？



### Spring Boot

1. #### Springapplication注解

2. #### Springboot自动装配







## 项目

1. #### 两次MD5加密的必要性。MD5加密是加密算法吗；你还了解过哪些加密算法；

2. #### 介绍项目，挖掘项目，项目延伸出来的优化，一些项目中未实现的功能自己的实现思路

3. #### 缓存和数据库的一致性问题

4. #### 整体项目架构的介绍

5. #### 限流算法了解哪些？（令牌桶和漏桶算法）这两者有什么区别？

6. #### 遇到了什么坑，说说？（讲了下超时控制中的坑）

7. #### 哪个项目做的比较满意？另一个不满意的地方在哪里？怎么优化？

8. #### 项目的难点？遇到最大的困难是什么？

9. #### 有考虑高并发的场景进行开发吗？





## 算法题

1. 最长无重复子数组(LC类似题目：[无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/))
2. 删除数组中的重复元素，返回新数组长度
3. 手撕 反转链表2：(区间反转)
4. LC 滑动窗口最大值
5. 智力题 3L和5L杯子 怎么才能盛4L水
6.  LeetCode 124 二叉树中的最大路径和 hard
7. 两个栈如何实现一个队列，这个队列容量是多少
8. LC 链表求和
9. 求众数。要求时间复杂度O(n)和空间复杂度O(1)。（投票算法 抵消 留下的就是众数）
10. 一个有序非重复数组，然后给定一个数，找出数组中两个数加起来等于这个数，找出它们的下标，找出多组。
11. [剑指 Offer 31. 栈的压入、弹出序列](https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)
12. 给你三个有序数组，输出三个数组的公共数字
13. LC 三数之和
14. 将数组中的0元素移动到数组末尾，不改变非0元素的相对顺序 (双指针)
15. 有序链表建立二叉搜索树
16. K个一组翻转链表
17. 环链表判断 找环起点
18. LC第一题 两数之和













## 反问

1. 我哪些地方回答得不好
2. 问了问相关的业务有哪些
3. 部门业务场景
4. 面试评价
5. 面试什么时候出结果
6. 美团对于实习生或者校招生的培养措施与方法
7. 互联网寒冬看法；面试评价；培养方式
8. 入职时间
9. 技术栈

